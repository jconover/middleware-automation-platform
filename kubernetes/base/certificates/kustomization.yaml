---
# Kustomization for cert-manager certificate resources
#
# Prerequisites:
#   - cert-manager installed in the cluster
#   - liberty namespace created
#
# Installation order:
#   1. Install cert-manager
#   2. Apply ClusterIssuers (cluster-issuer.yaml)
#   3. Create liberty namespace
#   4. Apply Certificate (liberty-certificate.yaml)
#
# Usage:
#   kubectl apply -k kubernetes/base/certificates/
#
# Note: The ClusterIssuer must be applied before the Certificate,
# and the liberty namespace must exist for the Certificate to be created.
#
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: liberty-certificates
  annotations:
    config.kubernetes.io/local-config: "true"

# Resources included in this configuration
resources:
  - cluster-issuer.yaml
  - liberty-certificate.yaml

# Common labels for all resources
commonLabels:
  app.kubernetes.io/managed-by: kustomize
  app.kubernetes.io/part-of: middleware-platform

# Common annotations
commonAnnotations:
  description: "cert-manager resources for Liberty TLS certificates"
